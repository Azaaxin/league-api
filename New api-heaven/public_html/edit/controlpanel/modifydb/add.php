<?phperror_reporting(E_ALL);ini_set('display_errors', 1);session_start();    require("../../../../connection.php");    if (!isset($_SESSION['username'])){        include("../auth/auth.php");    }else{                if(isset($_POST['champ'])){            $champion = $_POST['champ'];            $showonce = null;            for($i = 0; $i < 11; $i++){                $name = "perk" . $i;                $perkz[] = $_POST[$name];            }            for($nicks = 1; $nicks <= 3; $nicks++){                $strnick = "nickname" . $nicks;                if($_POST[$strnick] == ""){ //isset didnt work as i wanted                    $nickname[$nicks] = null;                }else{                    $nickname[$nicks] = $_POST[$strnick];                }            }            foreach($perkz as $perk){                if($perk == null){                    if($showonce == null){                        echo "A rune cannnot be empty";                        $_SESSION["champ_add"] = "<font color='red'>A rune cannot be empty!</font>";                        header("Location: ../");                    }                    $showonce = 1;                }                if($champion != "" && $perk != null && $showonce == null){                    $stmt = $conn->prepare("SELECT * from `league` WHERE champ=?");                    $stmt->execute(array($champion));                    $result = $stmt->fetchAll();                   // if($showonce == null){                        if (!empty($result) ) {                                echo "Champion already exists.";                                $_SESSION["champ_add"] = "<font color='red'>Champion already exists.</font>";                                header("Location: ../");                            } else {                                 $sql = "INSERT INTO `league` (`champ`, `nickname`, `nickname2`, `nickname3`, `main`, `main_rune1`, `main_rune2`, `main_rune3`, `main_rune4`, `secondary`, `secondary_rune1`, `secondary_rune2`, `bonus1`, `bonus2`, `bonus3`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)";                                $conn->prepare($sql)->execute([$champion, $nickname[1], $nickname[2], $nickname[3], $perkz[0], $perkz[1], $perkz[2], $perkz[3], $perkz[4], $perkz[5], $perkz[6], $perkz[7], $perkz[8], $perkz[9], $perkz[10]]);                                    echo "Champion has been added.";                                $_SESSION["champ_add"] = "<font color='green'>Champion " . $champion . " has been added.</font>";                                header("Location: ../");                                exit;                            }                        //}                    $showonce = 1;                }else{                     if($showonce == null){                        echo "You need to select a champion!";                        $_SESSION["champ_add"] = "<font color='red'>You need to select a champion!</font>";                        header("Location: ../");                    }                    $showonce = 1;                }            }        }else{            echo '            <label>Add Champion + runes</label>             <form action="' . htmlspecialchars($_SERVER["PHP_SELF"]) .'" id="perkzform" method="post">            <input type="text" class="form-control" required placeholder="Champion name" form="perkzform" name="champ" id="sel1">            <input type="text" class="form-control" placeholder="Champion nickname, can be empty" form="perkzform" name="nickname1">            <input type="text" class="form-control" placeholder="Champion nickname, can be empty" form="perkzform" name="nickname2">            <input type="text" class="form-control" placeholder="Champion nickname, can be empty" form="perkzform" name="nickname3">';            $fromonetothree = 1;                for($x = 0; $x < 11; $x++){                    echo "<select class='form-control' form='perkzform' name='perk$x' id='main_rune$x'>";                                            if ($x<8){                            $runeslot1 = $conn->query("SELECT `name` FROM `assets`");                            $runeslot1->execute([$limit, $offset]);                             while ($row = $runeslot1->fetch()) {                                echo '<option value="' . $row["name"]. '">' . $row["name"]. '</option>';                            }                        }elseif ($x>=8){                            $runeslot1 = $conn->query("SELECT `name` FROM `assets` WHERE `slot` = 5");                            $runeslot1->execute([$limit, $offset]);                                                         while ($row = $runeslot1->fetch()) {                                        echo '<option value="' . $row["name"]. '">' . $row["name"]. '</option>';                            }                        }                    echo "</select>";                }            echo '<input type="submit" value="Add"></form>';        }    }?>